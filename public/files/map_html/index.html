<!DOCTYPE html>
<html>
<head>
    <style>
        #map_canvas {
            width: 100%;
            height: 100%;
            /*width: 5px;*/
            /*height: 5px;*/
            /*position: absolute;*/
        }
    </style>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&key=AIzaSyCj2v2727lBWLeXbgM_Hw_VEQgzjDgb8KY"></script>
    <script>
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) {
                    return pair[1];
                }
            }
        }

        function initialize() {
            var lat = getQueryVariable("lat");
            var lon = getQueryVariable("lon");
            var zoom = parseInt(getQueryVariable("zoom"));
            var mapTypeInt = parseInt(getQueryVariable("mapType"));
            var mapTypeId = google.maps.MapTypeId.ROADMAP;

            switch (mapTypeInt) {
                case 0:
                    mapTypeId = google.maps.MapTypeId.ROADMAP;
                    break;
                case 1:
                    mapTypeId = google.maps.MapTypeId.HYBRID;
                    break;
                case 2:
                    mapTypeId = google.maps.MapTypeId.SATELLITE;
                    break;
            }


            var map_canvas = document.getElementById('map_canvas');
            var myLatLon = new google.maps.LatLng(lat, lon)
            var map_options = {
                center: myLatLon,
                zoom: zoom,
                mapTypeId: mapTypeId,
                disableDefaultUI: true
            }
            var marker = new google.maps.Marker({
                position: myLatLon,
                title: 'asdfasdf'
            });
            var map = new google.maps.Map(map_canvas, map_options)
            marker.setMap(map);
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body style="padding:0px; margin:0px" onload="initialize()">
<div id="map_canvas"></div>
<script type="text/javascript">
    var w = getQueryVariable("w");
    var h = getQueryVariable("h");
    document.getElementById("map_canvas").setAttribute("style", "height:" + h + "px; width:" + w + "px");
</script>
</body>
</html>